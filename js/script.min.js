"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var close,CIRCLE,maxSize,minSize,temp=['<h2 class="popup__h2">О компании</h2><p class="popup__p">ООО "Амата" (ИНН: 7801654181) создана в 2018 году. Основной род деятельности - разработка серверных систем на базе Open Source технологий.\n\tНа текущий момент, главными направлениями являются игровые сервера и веб-разработки. Кроме того, компания создала и владеет бесплатным хостингом фотографий ZiZi Hub. </p>',"2","3","4",'<a href="mailto:info@amatasoftware.com" class="popup__a">info@amatasoftware.com</a>','<h2 class="popup__h2">Вакансии</h2><p class="popup__p">На данный момент у нас нет вакансий(</p><p class="popup__p">Если Вы не нашли подходящей вакансии, но считаете, что обладаете должными навыками, то можете отправить свое резюме по адресу:</p><a href="mailto:info@amatasoftware.com" class="popup__a">info@amatasoftware.com</a>'],canvas=document.querySelector("canvas"),wrapper=document.querySelector(".wrapper"),menu=document.querySelector(".menu"),menuName=document.querySelector(".menu__name"),menuLi=document.querySelectorAll(".menu__li"),largeBut=document.querySelector(".menu__large-button"),selBut=document.querySelectorAll(".selector__button"),main=document.querySelector(".main"),tapfield=document.querySelector(".tapfield"),popup=document.querySelector(".popup"),quantity=selBut.length,topButQuantity=quantity%2==0?quantity/2:quantity/2+1,bottomButQuantity=quantity-topButQuantity,SelButPosition=function(){for(var e=0;e<topButQuantity;e++){var t=180/topButQuantity*(e+.5)-90;menuLi[e].style.transform="rotateZ("+t+"deg)",selBut[e].style.transform="rotateZ("+-t+"deg)"}for(var n=topButQuantity;n<quantity;n++){var o=180/bottomButQuantity*(n-topButQuantity+.5)+90;menuLi[n].style.transform="rotateZ("+o+"deg)",selBut[n].style.transform="rotateZ("+-o+"deg)"}};function Resize(){window.innerWidth<window.innerHeight?(maxSize=window.innerHeight,minSize=window.innerWidth):(maxSize=window.innerWidth,minSize=window.innerHeight),canvas.width=maxSize,canvas.height=maxSize,minSize<=600?(wrapper.classList.add("wrapper-min"),CIRCLE=150):(wrapper.classList.remove("min"),CIRCLE=220)}SelButPosition(),document.addEventListener("resize",Resize,!1),Resize(),function(){var e,t,n,o,a={dotsQuantity:50,dotMinRad:2,dotMaxRad:20,sphereRad:300,bigDotRad:35,mouseSize:120,massFactor:.003,firstColor:"rgba(256, 256, 256, 0.1)",secondColor:"rgba(256, 256, 256, 0.4)",smooth:.85},i=2*Math.PI,s=canvas.getContext("2d"),r=function(){function e(t){var o,i;_classCallCheck(this,e),this.pos={x:n.x,y:n.y},this.vel={x:0,y:0},this.rad=t||(o=a.dotMinRad,i=a.dotMaxRad,Math.random()*(i-o)+o),this.mass=this.rad*a.massFactor,this.color=a.defColor}return _createClass(e,[{key:"draw",value:function(e,t){this.pos.x=e||this.pos.x+this.vel.x,this.pos.y=t||this.pos.y+this.vel.y,u(this.pos.x,this.pos.y,this.rad,!0,a.firstColor),u(this.pos.x,this.pos.y,this.rad,!1,a.secondColor)}}]),e}();function u(e,t,n,o,a){s.fillStyle=s.strokeStyle=a,s.beginPath(),s.arc(e,t,n,0,i),s.closePath(),o?s.fill():s.stroke()}e=canvas.width=maxSize,t=canvas.height=maxSize,n={x:e/2,y:t/2,down:!1},(o=[]).push(new r(a.bigDotRad)),function i(){s.clearRect(0,0,e,t),o.length<a.dotsQuantity&&o.push(new r),function(){for(var e=1;e<o.length;e++){for(var t={x:0,y:0},i=0;i<o.length;i++)if(e!=i){var s=[o[e],o[i]],r=s[0],u=s[1],c={x:u.pos.x-r.pos.x,y:u.pos.y-r.pos.y},l=Math.sqrt(c.x*c.x+c.y*c.y)||1,d=(l-a.sphereRad)/l*u.mass;if(0==i){var m=a.mouseSize/l;r.color="rgba(250, 10, 30, ".concat(m,")"),d=l<a.mouseSize?(l-a.mouseSize)*u.mass:r.mass}t.x+=c.x*d,t.y+=c.y*d}o[e].vel.x=o[e].vel.x*a.smooth+t.x*o[e].mass,o[e].vel.y=o[e].vel.y*a.smooth+t.y*o[e].mass}o.map((function(e){return e==o[0]?e.draw(n.x,n.y):e.draw()}))}(),window.requestAnimationFrame(i)}(),document.addEventListener("mousemove",(function(e){var t=[e.clientX,e.clientY];n.x=t[0],n.y=t[1]})),document.addEventListener("mousedown",(function(){return a.sphereRad=50})),document.addEventListener("mouseup",(function(){return a.sphereRad=350}))}();var isNameOpened=!1;function Close(){wrapper.classList.remove("wrapper-hidden"),main.classList.remove("main-opened"),close.removeEventListener("click",Close),close.remove()}largeBut.addEventListener("click",(function(){if(isNameOpened){menuName.classList.remove("menu__name-opened"),menuLi.forEach((function(e){return e.classList.remove("menu__li-opened")}));for(var e=0;e<quantity;e++)selBut[e].style.top="0px",selBut[e].style.opacity=0}else{menuName.classList.add("menu__name-opened"),menuLi.forEach((function(e){return e.classList.add("menu__li-opened")}));for(var t=0;t<quantity;t++)selBut[t].style.top=-CIRCLE+"px",selBut[t].style.opacity=1}isNameOpened=!isNameOpened})),document.addEventListener("mousemove",(function(e){var t=-(e.clientX-window.innerWidth/2)/window.innerWidth*40-7,n=(e.clientY-window.innerHeight/2)/window.innerHeight*40+7;menu.style.transform="rotateX("+n+"deg) rotateY("+t+"deg)"})),document.querySelector(".hover-field").addEventListener("mouseover",(function(){menuName.classList.add("menu__name-opened")})),document.querySelector(".hover-field").addEventListener("mouseout",(function(){menuName.classList.remove("menu__name-opened")})),selBut.forEach((function(e){return e.addEventListener("click",(function(){for(var e=0;e<quantity;e++)this==selBut[e]&&(wrapper.classList.add("wrapper-hidden"),main.classList.add("main-opened"),popup.innerHTML=temp[e],close=document.createElement("div"),popup.prepend(close),close.innerHTML="X",close.classList.add("close"),close.addEventListener("click",Close))}))})),tapfield.addEventListener("click",Close);